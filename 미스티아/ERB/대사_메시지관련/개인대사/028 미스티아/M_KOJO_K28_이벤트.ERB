;-------------------------------------------------
; eraTheWorld 4.800用 미스티아구상 
;-------------------------------------------------
;미스티아를 YM으로 처음 알게되었고 최애가 되어버려서 부실한 TW구상을 자급자족 하기로함

;------ 오려내기 시작 -----------
;eraTheWorld proto4.07 패치 도입용 Ver1.13
;템플릿 사용법
;처음에 치환 커맨드 등에 의해 K28를 K(캐릭터 No)로 변경해 주세요  
;캐릭터 No는 CSV폴더의 Chara 파일 참조　예(키리사메 마리사의 경우): K28 =치환=> K11
;
;------ 오려내기 종료 -----------

;**** FlagManagement **********************************************************
;본 구상에서 사용하고 있는 CFLAG · TCVAR 등
;
;
;
;******************************************************************************

;### 구상존재판정 ###################################
@M_KOJO_K28(ARG)
;여기서 RESULTS를 설정하면 다른 같은 캐릭터의 구상을 넣어도 정상 작동한다.

;RESULTS = _TEST_

;로 설정하면, "EVENT"계 이벤트라면
;M_KOJO_TEST_EVENT_K28_1() 등으로 호출될…것. (미테스트 기능)

;여기서 CFLAG 등의 캐릭터 변수를 사용하는 경우, 캐릭터 번호를 지정해야 합니다

;주석처리를 지우고 면간구상있음, 시간정지구상있음에 1을 넣으면, 각각 시간정지 시, 면간 시, 역극 시에 커맨드 구상이 읽혀질 수 있습니다
;넣지 않으면 시간정지 시, 면간 시, 역극 시에는 일절 말하지 않습니다

;파과캔슬구상있음에 1을 넣으면、@M_KOJO_EVENT_K28_LOST_VIRGIN_STOP에서 캔슬의 성공 여부를 조작할 수 있습니다
;구상내껴안기판정_첫회와 구상내껴안기판정_통상에 1을 넣으면 M_KOJO_EVENT_K28_PERMISSION으로 덮치기의 성공여부를 조작할 수 있습니다

;X에는 캐릭터 번호를 넣어주세요

;CFLAG:X:면간구상있음 = 0
;CFLAG:X:시간정지구상있음 = 0
;CFLAG:X:역극구상있음 = 0
;CFLAG:X:파과캔슬구상있음 = 0
;CFLAG:X:구상내껴안기판정_첫회 = 0
;CFLAG:X:구상내껴안기판정_통상 = 0

;CFLAG:덮침금지에 1을 넣으면 캐릭터쪽에서 덮치지 않게 됩니다
;다음은 연모나 섹프를 얻을 때까지 덮치지 않게 되는 사용 예
;IF !TALENT:X:연모 && !TALENT:X:섹프
;	CFLAG:X:덮침금지 = 1
;ELSE
;	CFLAG:X:덮침금지 = 0
;ENDIF


;구상존재 판정입니다, 절대 주석처리하지 마세요
RETURN 1
;### 구상색판정 ###################################
@M_KOJO_COLOR_K28

;여기에 SETCOLOR 함으로써 구상에 색을 입힐 수 있습니다
SETCOLOR 0xFF99FF

;
;"UPDATE판정"
;
@M_KOJO_UPDATE_K28
;구상 독자적인 UPDATE용
;ENCOUNTER 전용으로 자체 분기 플래그를 넣었을 경우 등에 사용하시기 바랍니다
;UPDATE판정으로 CFLAG등의 캐릭터 변수를 사용하는 경우, 캐릭터 번호를 지정해야 합니다
RETURN 1

;
;"ENCOUNTER"계 이벤트 (엑스트라 구문)
;
@M_KOJO_ENCOUNTER_K28
;첫대면, 인사 타이밍
;TALENT 변경은 이쪽에서 부디.
;경험의 변경은 어긋남이 있을 수 있으므로, CSV를 수정하여 동봉하는 것을 권장합니다
RETURN 1

;
;"SP_EVENT"계 이벤트
;
;==================================================
;데이트에서 돌아오는 길에 퍼스트 KISS (합의도 붙는다)
;==================================================
@M_KOJO_SPEVENT_K28_1(ARG,ARG:1)
;구상주는 TARGET
;지문표시
CALL SPEVENT_MESSAGE_1(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORML  
	;키스캔슬 하고싶은 경우 다음을 개방
	;TCVAR:키스캔슬 = 1
ENDIF
RETURN 1

;==================================================
;데이트에서 돌아오는 길에 고백 (애인이 붙는다)
;==================================================
@M_KOJO_SPEVENT_K28_2(ARG,ARG:1)
;구상주는 TARGET
;지문표시
CALL SPEVENT_MESSAGE_2(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;고백내용
	;이 고백 내용 표시 후에 받을지 말지의 선택 분기가 표시됩니다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;고백OK (애인이 붙는다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;고백실패
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;데이트에서 돌아오는 길
;==================================================
@M_KOJO_SPEVENT_K28_3(ARG,ARG:1)
;구상주는 TARGET
;지문표시
CALL SPEVENT_MESSAGE_3(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;통상 귀가
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;반발각인 소거 이벤트
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;반발각인2>1 레벨 다운 이벤트
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;반발각인3>2 레벨 다운 이벤트
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;
;"EVENT"계 이벤트
;
;==================================================
;방에서 조우
;==================================================
@M_KOJO_EVENT_K28_1(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;MASTER가 들어왔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET이 들어왔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET이 목욕탕에 들어와서 같이 들어간다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGE이 목욕을 하고 나갔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET이 목욕을 해서 쫓겨났다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;외출처에서 조우했다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;다른 캐릭터와 데이트중에 조우했다
	;ARG:1은 데이트 상대
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MAIN_MAP 위에서 하루 첫인사
	;주의, 이 뒤에 통상적인 조우 구상,ARG==1 OR ARG==2에 접속합니다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;외출처에서 하루 첫인사
	;ARG:1은 데이트 상대, ARG:1이 0일 경우에는 데이트X
	;주의, 이 뒤에 통상적인 외출처에서 조우 구상, ARG==6 OR ARG==7에 접속합니다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;ARG:1로 데이트중
		IF ARG:1
		;혼자서 외출
		ELSE
		ENDIF
		PRINTFORML 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;아침에 일어났을 때 (おはよう구상)
;==================================================
@M_KOJO_EVENT_K28_2(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;비동거이자 상대가 먼저 일어났다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;TARGET의 사실에 MASTER가 들어가 있다 (연모시 동침중 취침시에만?)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER의 사실에 TARGET이 들어가 있다 (연모 없이도 들어올 가능성 있음)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;동거이자 상대가 먼저 일어났다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;동거이자 상대가 자고 있다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTER가 일어나고, 상대가 일어났다
	;동침 시 TARGET 기상은 이쪽 (TARGET이 쇠약or동침 중 TARGET이 수마에 패배 후 그대로 MASTER가 계속 일어난 후에 상대가 기상한 경우 한정)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;비동거
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;동거중
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;밤에 잘 때 (おやすみ구상)
;==================================================
@M_KOJO_EVENT_K28_3(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;자기 방에 돌아가서 자다 (~는【현재지역】에서【캐릭터방】으로 돌아왔습니다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF ARG:1
			;데이트중에 졸려서 돌아와서 자다 (거점 캐릭터만)
			PRINTFORMW 
		ELSEIF CFLAG:우후후
			;우후후중에 졸려서 자기 방에 돌아가서 자다 (거점 캐릭터만)
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;졸린 듯 하다(~는 졸린 듯 하다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;취침중 (~는 자고 있다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;장난중
	;기입체크 (=0, 비표시、1, 표시)
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;쇠약해져 잔다 (체력500이하, 우후후 시 우후후 강제종료)
	;（캐릭터의 방 이외：~는【현재지역】에서【캐릭터의방】으로 옮겼습니다)
	;（캐릭터의방　　　：~는 지쳤다며 드러누웠습니다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		IF CFLAG:우후후
			;우후후중에 다운
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTER가 다운 (연모만, 그대로 하루가 종료)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		IF ARG:1
			;자기 방에서 다운, (~가【MASTER】를 침대(이불)로 옮겨 주었다…)
			PRINTFORMW 
		ELSE
			;방까지 운반된다, (~가【MASTER】를 사실로 옮겨 주었다…)
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET이 자기 위해 자기 방까지 돌아왔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;그대로 갈아입고 잤다 (【TARGET】이 방에 돌아왔다→잠옷으로 갈아입고 잠자리에 들었다)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;방에서 쫓아내고 잤다 (졸린 듯한 【TARGET】에게 쫓겨났다…)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF CFLAG:전턴위치 == CFLAG:현재위치
				;이전 턴까지 같이 방에 있었다
				PRINTFORMW 
			ELSE
				;자기 위해 방에 들어온 시점
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;다른 캐릭터와의 H를 멈추게 하고 잤다 (【TARGET】이 방에 돌아왔다→입술을 삐죽이는【TARGET】에게, 【MASTER】는 마지못해【H상대】에서 떨어졌다)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;내방캐릭터가 거점에서 휴식 (~녹초가 되었다→잠깐 쉬다 가)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;침실에 있는 상태로 그 자리에서 잔다 (~는 졸음에 져서, 잠이 들었다…)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		IF CFLAG:우후후
			;우후후중에 잤다
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;이동시 엇갈림
;==================================================
@M_KOJO_EVENT_K28_4(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;멈춰 섰다
	;이후 조우 구상에 접속
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;가볍게 인사하고 지나갔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;무시하고 지나갔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;타자 개입으로 무드 변화
;==================================================
@M_KOJO_EVENT_K28_5(ARG,ARG:1)
;구상주는 TARGET
;ARG에 들어온 캐릭터 (인원이 방대한 만큼, 자기파악 자기책임으로)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;레이무가 들어왔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;루~코토가 들어왔다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;그외 (캐릭터 지정 없음)
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;정사를 목격했다
;==================================================
@M_KOJO_EVENT_K28_6(ARG,ARG:1)
;구상주는 TARGET
;ARG에 정사 상대
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;정사를 목격했다 (친해져(馴れ合い) 정도:저)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;질세라 참가 (친해져(馴れ合い) 정도:고)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;어색한 듯이 떠난다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;정사를 들켰다
;==================================================
@M_KOJO_EVENT_K28_7(ARG,ARG:1)
;구상주는 TARGET
;ARG에 목격자
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;정사를 들켰다 (목격자의 친해져(馴れ合い) 정도:저)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;목격자가 질세라 참가 (목격자의 친해져(馴れ合い) 정도:고)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;목격자가 물러간다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;목격한 정사를 캐묻는다 (현재 없음)
;==================================================
@M_KOJO_EVENT_K28_8(ARG,ARG:1)
RETURN 1

;==================================================
;팬티를 몰수당했다
;==================================================
@M_KOJO_EVENT_K28_9(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;밀어 넘어뜨렸다
;==================================================
@M_KOJO_EVENT_K28_10(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;우후후==2 (개시시)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;MASTER를 밀어 넘어뜨렸다 (개시시)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER에게 껴안겼다 (개시시)
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;달랠 수 있었다 (종료시)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;빠져나간다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;껴안기모드 만족 종료
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;껴안기모드 강제종료
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;빠져나가기 실패
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;좋을 대로 해 상태에서 빠져나가지 못했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;욕구 불만이 높아 빠져나가지 못했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;유혹해왔다 (남의 눈에 띄지 않는 장소에 가고 싶어하는 녀석)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;ARG:1=TARGET의 욕구불만도 (최고 1000)
		;필요하면 이걸로 분기를 만들어 주세요
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;목욕탕에서 조우
;==================================================
@M_KOJO_EVENT_K28_11(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;쫓겨났다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;눈이 마주쳤다 (쫓겨나지 않는다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;잠자리에 숨어들다
;==================================================
@M_KOJO_EVENT_K28_12(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;쫓겨난다 (분노)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;잠자리에 침입
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;잠자리에 침입 (상대가 연모)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;잠자리에 침입 (상대가 연모・쇠약)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;쫓겨난다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;쫓겨난다 (쇠약)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;일하는중
;==================================================
@M_KOJO_EVENT_K28_13(ARG,ARG:1)
;구상주는 TARGET
;ARG:1에게 남아 있는 일량
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;일 개시 (직장으로 이동한다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;업무중
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;일 종료
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;식사계
;==================================================
@M_KOJO_EVENT_K28_14(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;가지고 있던 음식을 먹혔다
	;TCVAR:훔쳐먹기억제 로 가지고 있던 음식을 먹히는 것을 피할 수 있다
	;사양 예 (약이 들어 있으면 먹지 않는다)
	;IF DISH_DRG
	;	TCVAR:훔쳐먹기억제 = 1
	;ENDIF

	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;MASTER가 밀어 넘어뜨렸다
;==================================================
@M_KOJO_EVENT_K28_15(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;미실장 (덮치기 커맨드로 통합?)
	;MASTER가 밀어 넘어뜨렸다 (우후후 개시시)
	;기입체크 (=0, 비표시、1, 표시)
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;밀회종료 (우후후 종료시)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
	;-------------------------------------------------
	;사후 묘사
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;정액이 흘러내렸다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;애액이 흘러내렸다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;사후의 무드
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;옷을 입다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;동침한다
;==================================================
@M_KOJO_EVENT_K28_16(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;동침을 시작 (시작시) (존재하지 않음)
	;기입체크
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;동침을 종료했다 (종료시)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;시간정지 종료 시
;==================================================
@M_KOJO_EVENT_K28_17(ARG,ARG:1)
;구상주는 TARGET
;배타(排他)라고 명기되어 있지 않은 것은 상황에 따라 연속으로 표시되므로 주의
;ARG에 사정 상황
;ARG:1에 사정 상태
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;ARG=1~3은 배타
	;수수께끼의 쾌감
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;절정
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;팬티 분실
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 구내 사정】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;정액중독 저 정음
		IF ARG:1 == 1
		;정액중독 저 토해냄
		ELSEIF ARG:1 == 2
		;정액중독 저 손으로 가림
		ELSEIF ARG:1 == 3
		;정액중독 고 정음
		ELSEIF ARG:1 == 4
		;농후정액&정액중독 저 토해냄
		ELSEIF ARG:1 == 5
		;농후정액&정액중독 고 정음
		ELSEIF ARG:1 == 6
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 안면 사정】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;무지보유&정액경험 100미만
		IF ARG:1 == 1
		;통상 닦아낸다
		ELSEIF ARG:1 == 2
		;안면사정액 혀로 맛본다
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 수음 사정】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;닦아낸다
		IF ARG:1 == 1
		;혀로 맛본다
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 애널 사정】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;A감각 2이하
		IF ARG:1 == 1
		;그것 이외
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 처녀 상실】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【무자각 질내 사정】
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;비처녀 질내 사정 피임약 없음
		IF ARG:1 == 1
		;비처녀 질내 사정 피임약 없음
		ELSEIF ARG:1 == 2
		;처녀 질내 사정
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;시간정지 해제 공통
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;생으로 하게 해달라고 할 때
;==================================================
@M_KOJO_EVENT_K28_18(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;피임요구대사
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;거절했다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;거절했는데도 버텨서 질렸다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;위험일 이외 허가
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;위험일 허가
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;신사 생활을 승인받다
;==================================================
@M_KOJO_EVENT_K28_19(ARG,ARG:1)
;구상주는 ARG
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;인정을 받다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;인정받지 못하다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;아나타의 개인실 변경으로 인한 동거
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;귀가시
;==================================================
@M_KOJO_EVENT_K28_20(ARG,ARG:1)
;구상주는 LOCALS or RESULT
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;통상 귀가
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:우후후
			;우후후중 졸려서 돌아간다
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;데이트중 귀가
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:우후후
			IF CFLAG:쇠약
				;우후중 피곤해서 돌아간다
				PRINTFORMW 
			ELSE
				;우후후중 졸려서 돌아간다
				PRINTFORMW 
			ENDIF
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;현관 앞에서 배웅 (캐릭터 집 위치, 또는 캐릭터 방에서 데이트 종료)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;데이트 종료시에 방에 오라고 권함 (~로부터 방에 오지 않겠냐고 권유받았다)
	; (내방 캐릭터만, 집이 없는 캐릭터에서도 발생합니다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;방에 오지 않겠냐→「간다」를 선택（~에게 권유받은 대로,【MASTER】는【TARGET】의 방으로 향했다……)
	; (이것이 발생하면 십중팔구 밀어 넘어뜨려집니다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;방에 오지 않겠냐→「그만둔다」를 선택 (~섭섭해 보인다……)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;오늘밤은 돌아가고 싶지 않다고 말을 꺼냄 (~오늘 밤은 돌아가기 싫다고 말을 꺼냈다…)
	; (내방 캐릭터 귀가시 욕구불만과 욕망이 높으면 발생)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;오늘밤은 돌아가고 싶지 않다→「묵게 한다」를 선택 (~는【MASTER의방】에서 자고 가게 되었다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;오늘밤은 돌아가고 싶지 않다→「묵게 하지 않는다」를 선택, 또는 집주인이 있다 (【MASTER】정중히 거절했다)
	; (집주인이 있다＝MASTER의 사실에 다른 캐릭터의 사실을 설정하고 있다)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;피곤해서 귀가（피곤해진 ~ 는 돌아갔습니다)
	; (~는 녹초가 되었다→(입구)까지 바래다줄게 에도 발생)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF CFLAG:우후후
			;우후중 피곤해서 돌아간다
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;함락소질 취득 시
;==================================================
@M_KOJO_EVENT_K28_21(ARG,ARG:1)
;구상주는 ARG
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;연모 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;사모 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;애욕 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;정부 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;섹프 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;키스마 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;자위광 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;포르치오성감 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;오줌싸개버릇 취득
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;조교 종료시 자위
;==================================================
@M_KOJO_EVENT_K28_22(ARG,ARG:1)
;구상주는 ARG
;ARG:0에 자위 상황
;ARG:1에 자위 종류
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;통상 자위
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;동실시 자위
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;질내사정 정액 자위
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;무지보유 (자위경험(조교자위경험은 차감)에 의한 분기 있음)
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:자위경험 - EXP:조교자위경험
		;무지 소거 이벤트 있음 (표시는 한 번뿐)
		IF LOCAL:1 >= 25
		;지문 분기. 書きたい場合は[SKIPSTART][SKIPEND]を削除してください
		[SKIPSTART]
		ELSEIF LOCAL:1 >= 20
		ELSEIF LOCAL:1 >= 15
		ELSEIF LOCAL:1 >= 10
		ELSEIF LOCAL:1 >= 5
		[SKIPEND]
		ELSE
		ENDIF
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;함락소질 있음 자위중독 높음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;C민감orC감각 10이상
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;V민감orV감각 10이상
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;A민감orA감각 10이상
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;B민감orB감각 10이상
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;부위 지정 없음
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML  
			RETURN 1
		ENDIF
		;그외
		;위의 분기를 일절 쓰지 않고, 여기에 쓰는걸로 함락소질 있음 자위중독 높음 자위 공통 구상을 표시할 수 있습니다
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;자위중독 높음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;항문질강동시
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;질강만
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;그외
		;위의 분기를 일절 쓰지 않고, 여기에 쓰는걸로 자위중독 높음 자위 공통 구상을 표시할 수 있습니다
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;참는다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;그외
	;위의 분기를 일절 쓰지 않고, 여기에 쓰는걸로 자위 공통 구상을 표시할 수 있습니다
	PRINTFORML  
	RETURN 1
ENDIF
RETURN 1
;==================================================
;목욕탕에 데리고간다
;==================================================
@M_KOJO_EVENT_K28_23(ARG,ARG:1)
;구상주는 LOCAL
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;거절당했다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;같이 들어가준다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;회임
;==================================================
@M_KOJO_EVENT_K28_24(ARG,ARG:1)
;구상주는 LOCAL
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;연모
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;사모
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;함락소질 없음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;무자각
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;출산
;==================================================
@M_KOJO_EVENT_K28_25(ARG,ARG:1)
;구상주는 LOCAL
;ARG:1	몇 번째 아이인가
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;연모
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;사모
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;함락소질 없음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;무자각
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;그외
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;자위들킴(オナバレ)
;==================================================
@M_KOJO_EVENT_K28_26(ARG,ARG:1)

;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;보여진 순간
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;아무것도 안한다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;그대로 속행
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;내쫓음
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;해버리다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;사후
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 6
		;사후 숙박
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
	ENDSELECT
ENDIF

;자위들킴섹스(オナバレックス) 판정용 함수
;RETURN -1로 강제실패, RETURN 1로 강제성공
@M_KOJO_EVENT_K28_26_1(ARGS)
#DIM 補正値
IF ARGS == "どうぞそのまま"

ELSEIF ARGS == "二人で"

ENDIF

;사용 예
;IF !TALENT:XX:연모
;	PRINTFORMW %CALLNAME:XX%はガードが堅いぞ！
;	RETURN -1
;ENDIF
;IF TALENT:MASTER:농후정액
;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
;	RETURN 1
;ENDIF
;==================================================
;상대방으로부터 데이트 권유
;==================================================
@M_KOJO_EVENT_K28_27(ARG,ARG:1)
;구상주는 LOCAL
;ARG:1은 목적지
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;권유 문구
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;수락했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;거절했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;방에 초대받았다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;방에 초대받았다를 수락했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;방에 초대받았다를 거절했다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;탈의 구상
;==================================================
@M_KOJO_EVENT_K28_28(ARG,ARG:1)
;구상주는 TARGET
;ARG에 벗기는 방법 선택
;ARG:1 (ARG=3의 경우만 있음) 지문의 반응
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;전라로 한다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;시간정지시
			IF FLAG:70
			;통상
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;속옷차림으로 한다
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;시간정지시
			IF FLAG:70
			;통상
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;반라
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;시간정지시
			IF FLAG:70
			;통상
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;팬티 주세요
		;기입체크 (=0, 비표시、1, 표시)
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;교환입니다
				;기입체크 (=0, 비표시、1, 표시)
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK (기쁘게)
				;기입체크 (=0, 비표시、1, 표시)
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK (마지못해)
				;기입체크 (=0, 비표시、1, 표시)
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 3
				;싫습니다
				;기입체크 (=0, 비표시、1, 표시)
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				RETURN 1
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;분노 구상
;==================================================
@M_KOJO_EVENT_K28_29(ARG,ARG:1)
;구상주는 TARGET
;ARG는 TARGET의 담력으로 분기
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;화나게 해 버렸다
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;울려버리고 말았다　[겁쟁이]소지
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;상대방이 밀어 넘어뜨린 것을 해제
;==================================================
@M_KOJO_EVENT_K28_30(ARG,ARG:1)
;구상주는 TARGET
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
	;피곤하다
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
	;만족하여 해방
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
	;만족한 참에 밀어 넘어뜨렸다
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
	;부서질 때까지 해줄게
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;==================================================
;하루의 종료 시(AFTERTRA2의 앞), 안면이 없으면 호출당하지 않는다
;==================================================
@M_KOJO_EVENT_K28_31(ARG,ARG:1)
;구상주는 TARGET
;ARG는 만나지 않은 일수
;며칠 이상 안 만났으면 투덜거리거나 할 수 있어요
;CFLAG:딸딸이들킴 으로 분기 넣어도 될 것 같아
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;소분기
	;-------------------------------------------------
	;오늘 만나지 않음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;오늘 만나고 있음
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;자유행동중
;ARG:1      0=행동중,1=완료시
;기능계의 행동은 기능레벨이 1이상이면 발생
;==================================================
@M_KOJO_EVENT_K28_32(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 0
		;▼생각, (~는 생각에 잠겨 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 1
		;▼놀기, (~는 뛰어다니고 있다.)
		;※[유치]소유만
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 2
		;▼식사, (~는 식사를 하고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 3
		;▼집어먹기 (~는 몰래 집어먹고 있다.)
		;※[요정]소유와 루미아, 코이시, 유우코, 시온만
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 4
		;▼청소, (~는 싹싹 방청소를 하고 있다.)
		;※[청소부]소유 또는 악취내성-1 이하만
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 5
		;▼운동,（～는 열심히 운동하고 있다.)
		;※[음악지식]소유자는 제외 (연주가 된다)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 6
		;▼독서, (~는 묵묵히 책을 읽고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 7
		;▼요리,
		IF !ARG:1
			;행동중
			IF Activity_Duration:TARGET > 30
				;요리중 (~는 경쾌하게 요리를 하고 있다.)
				PRINTFORML 
			ELSE
				;식사중 (~는 만든 음식을 먹고 있다.)
				PRINTFORML 
			ENDIF
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 8
		;▼연주
		;※[음악지식]소유자만 (TALENT:음악지식으로 변화）
		;1,～속시원하게 연주하고 있다.
		;2, ~는 마음대로 노래하고 있다.
		;3, ~는 화려하게 춤추고 있다.
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 9
		;▼채집, (~쓸만한 소재를 찾고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 10
		;▼낚시, (~한가로이 낚시를 하고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 11
		;▼실험,（～는 수상한 실험을 하고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 12
		;▼느긋, (~는 한가로히 하고 있다.）
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 13
		;▼저녁반주, (~는 한가로이 술을 마시고 있다.)
		;※술내성 0 이상만
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 14
		;▼쇼핑, (~는 마음대로 쇼핑하고 있다.)
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 15
		;▼설교, (~는 가만히 듣고 있다…)
		;※신령・봉래인은 제외
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시
			PRINTFORML 
		ENDIF
	CASE 16
		;▼함정, (~는 함정을 늘리고 있다)
		;※삼월정・치르노・클라운피스만
		;나머지는 떨어지는 쪽
		IF !ARG:1
			;행동중
			PRINTFORML 
		ELSE
			;완료시,
			; (장치인(실패시), 아무도 걸리지 않아 ~는 질려버린 것 같다…)
			; (떨어진 측 (전투능력 2~4) , ~는 바로 구멍에서 튀어나와 주위를 두리번두리번 둘러보고 있다…)
			PRINTFORML 
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;해피 뉴이어
;해를 넘기는 순간에 같은 방에 있으면 발생
;==================================================
@M_KOJO_EVENT_K28_33(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;기능 레벨업
;각 ABL값은 레벨업 후의 값으로 되어 있습니다
;==================================================
@M_KOJO_EVENT_K28_34(ARG,ARG:1)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 1
		;전투기능
		PRINTFORMW 
	CASE 2
		;화술기능
		PRINTFORMW 
	CASE 3
		;청소기능
		PRINTFORMW 
	CASE 4
		;교양
		PRINTFORMW 
	CASE 5
		;요리기능
		PRINTFORMW 
	CASE 6
		;채집Lv
		PRINTFORMW 
	CASE 7
		IF ARG:1 == 0
			;음악기능
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【악기지식】취득
			PRINTFORMW 
		ELSEIF ARG:1 == 2
			;【상대음감】취득
			PRINTFORMW 
		ENDIF
	CASE 8
		;낚시Lv
		PRINTFORMW 
	CASE 9
		IF ARG:1 == 0
			;조합Lv
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【조합지식】취득
			PRINTFORMW 
		ENDIF
	CASE 10
		;벌채Lv
		PRINTFORMW 
	CASE 11
		IF ARG:1 == 0
			;손가락
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【능숙한손가락】취득
			PRINTFORMW 
		ENDIF
	CASE 12
		IF ARG:1 == 0
			;혀
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【혀놀림】취득
			PRINTFORMW 
		ENDIF
	CASE 13
		IF ARG:1 == 0
			;가슴
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【음유】취득
			PRINTFORMW 
		ENDIF
	CASE 14
		;허리
		PRINTFORMW 
	CASE 15
		IF ARG:1 == 0
			;질
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【음호】취득
			PRINTFORMW 
		ENDIF
	CASE 16
		IF ARG:1 == 0
			;애널
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【항문광】취득
			PRINTFORMW 
		ENDIF
	ENDSELECT
	PRINTL 
ENDIF
RETURN 1

;==================================================
;데일리 이벤트 2, 몽정
;친밀 5이상으로 발생 (내방 캐릭터만)
;▼지문--------------------------------------------------
;【MASTER】가 몽정으로 더럽힌 속옷을 빨고 있는데【TARGET】이 날아 왔다!
;【TARGET】은 그런 걸 다른 빨래와 함께 빨지 말라고 항의하고는,【MASTER】의 손에 들려있는 속옷을 낚아채 돌아갔다…
;【TARGET】　욕정의 구슬＋1000
;==================================================
@M_KOJO_DAILY_EVENT_K28_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;지문을 바꾸고 싶다면 주석처리
;※주석처리 하면 욕정의 구슬＋1000 (JUEL:11 += 1000) 또한 잘리므로 주의
CALL DAILY_MESSAGE_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;데일리 이벤트 4, 생각에 잠김
;농후정액 상태에서 발생
;▼지문--------------------------------------------------
;걷잡을 수 없는 사고에 빠져있던【TARGET】은, 어느 새【MASTER】를 생각하고 있었다는 것을 깨달았다
;【TARGET】은 내일【MASTER】를 만나러 가기로 한 것 같다
;==================================================
@M_KOJO_DAILY_EVENT_K28_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;지문을 바꾸고 싶다면 주석처리
CALL DAILY_MESSAGE_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;데일리 이벤트 12, 특훈
;신뢰 100이상에서 발생 (거점 캐릭터만)
;==================================================
@M_KOJO_DAILY_EVENT_K28_14(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;지문을 바꾸고 싶다면 주석처리
;주석처리 가능한 것은 ARG:1=1,2 뿐입니다
CALL DAILY_MESSAGE_14(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;기입체크 (=0, 비표시、1, 표시)
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG:1
	CASE 1
		;특훈을 부탁받다
		;~로부터 신기술 훈련에 교제해달라는 말을 들었다
		PRINTFORML 
	CASE 2
		;거절
		;~는 아쉬운 것 같다
		PRINTFORML 
	CASE 3
		;~의 공격!
		;※여기는 WAIT 하지 말아 주세요
		PRINTFORML 
	CASE 4
		IF ARG:2
			;시간정지로 회피
			PRINTFORML 
		ELSE
			;회피성공
			PRINTFORML 
		ENDIF
	CASE 5
		;회피실패
		PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1


[SKIPSTART]
;-------------------------------------------------
;자위들킴(オナバレ)시의 지문을 디폴트의 것으로부터 변경하고 싶은 경우 용.
;그 경우는 상하의 SKIPSTART~SKIPEND를 지워주세요.
;CFLAG등 캐릭터 변수를 사용할 경우, 캐릭터 번호를 지정해야 합니다.
;-------------------------------------------------
@M_KOJO_EVENT_K28_ONABARE_1(ARG)
;-------------------------------------------------
:구상색을 입힐 거면 주석처리를 지우고 X를 캐릭터 번호로
;CALL M_KOJO_COLOR_K28

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;자위들킴(オナバレ)에서 그대로 계속 해달라고 하는 경우의 지문을 디폴트의 것으로부터 변경하고 싶은 경우 용.
;그 경우는 상하의 SKIPSTART~SKIPEND를 지워주세요.
;CFLAG등 캐릭터 변수를 사용할 경우, 캐릭터 번호를 지정해야 합니다.
;-------------------------------------------------
@M_KOJO_EVENT_K28_ONABARE_2(ARG)
;-------------------------------------------------
:구상색을 입힐 거면 주석처리를 지우고 X를 캐릭터 번호로
;CALL M_KOJO_COLOR_K28

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;자위들킴(オナバレ)없이 무너뜨림 섹스(崩しックス)의 지문을을 디폴트의 것으로부터 변경하고 싶은 경우용.
;그 경우는 상하의 SKIPSTART~SKIPEND를 지워주세요.
;CFLAG등 캐릭터 변수를 사용할 경우, 캐릭터 번호를 지정해야 합니다.
;-------------------------------------------------
@M_KOJO_EVENT_K28_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0으로 V, 1로 A
#DIM 注入量
#DIM 回数

:구상색을 입힐 거면 주석처리를 지우고 X를 캐릭터 번호로
;CALL M_KOJO_COLOR_K28

SELECTCASE 前戯１
	CASE 1
		PRINTFORML Ｃ責め
	CASE 2
		PRINTFORML Ｂ責め
	CASE 3
		PRINTFORML Ｍ責め
ENDSELECT

IF 本番はどっちか
	PRINTFORML Aで本番
ELSE
	PRINTFORML Vで本番
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;처녀・무자각비처녀에게 삽입하기 직전의 구상
;RETURN 1을 하면 커맨드를 취소합니다
;RETURN 0이면 통합니다
;CFLAG:파과캔슬구상있음 가 on 되어 있지 않으면 읽히지 않으니 주의
;-------------------------------------------------
@M_KOJO_EVENT_K28_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;CFLAG:구상내껴안기판정_초회 가 on 되어 있는 경우만 유효.
;처음 밀어 넘어뜨렸을 때, 여기서 RETURN -1 하면 밀어 넘어뜨리는 걸 강제로 취소합니다.
;RETURN 0이면 통상적인 판정을 실시, RETURN 1이면 무조건 성공시킵니다.
;특정 이벤트(데이트 귀가 키스 등)를 볼 때까지 우후후하지 못하게 하고 싶을 때 등에 사용해 보세요.
;-------------------------------------------------
@M_KOJO_EVENT_K28_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;CFLAG:구상내껴안기판정_통상 이 on 되어 있는 경우만 유효.
;합의가 되어 덮쳐졌을 때, 여기서 RETURN -1 하면 덮치기를 강제로 취소합니다.
;RETURN 0이면 정상적으로 성공시킵니다.
;합의가 있어도 어떤 이유로도 우후후 할 수 없도록 하고 싶을 때 등등에 부디.
;-------------------------------------------------
@M_KOJO_EVENT_K28_PERMISSION_2
;-------------------------------------------------
PRINTFORML 
RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;방 묘사용 함수
;구상 캐릭터의 OMANEKIBEYA나 거점 묘사에 사용합니다
;기입할 때는 주석처리를 지워주세요
;-------------------------------------------------
;@K28_ROOM_DESCRIPTION
;PRINTFORML 예) 생활감 없는 삭막한 방이다
;-------------------------------------------------


;==================================================
;선물 이벤트
;==================================================
@M_KOJO_EVENT_K28_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 評価点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;評価点       선물의 평가점(1~999), 구상주가 준 경우에도 구상주의 평가점
;GIFT_NAME    선물의 명칭
;SENSE        선물에 설정된 속성. STRCOUNT(DISH_TASTE, "ほげほげ/")를 사용하면 특정 속성을 판정할 수 있습니다.
;GIFT_ID      이거 혼자로는 안써요. 이하의 식내 함수를 사용하면 데이터를 추출할 수 있습니다 (집착하고 싶은 사람용)
;　GET_GIFTDATA(GIFT_ID, "횟수")    받은 (준) 횟수
;　GET_GIFTDATA(GIFT_ID, "득점")    득점 (1~999), 구상 템플릿 내에서는 준비되어 있습니다.
;　GET_GIFTDATA(GIFT_ID, "날짜")    받은 (준) 날짜 (1~9999)
;　GET_GIFTDATA(GIFT_ID, "장소")    샀던 장소 (데이트 행선지)
;　GET_GIFTDATA(GIFT_ID, "형용사")  형용사 번호 (선물데이터_형용사.erb 참조)
;　GET_GIFTDATA(GIFT_ID, "본체")    본체 번호 (선물데이터_본체.erb 참조)
;--------------------------------------------------------------------------------------------------
;데이트에서 돌아오는 길에 구상주가 당신에게 선물 전달 (함락이나 호감도에 관계없이 친밀 5 이상에서 발생)
;평가점은 701~999 (건네주는 캐릭터 본인의 평가)
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	;PRINTFORMW 「%조사처리(GIFT_NAME, "를")% 줄테니 소중히 써줘」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;하루의 끝에 오늘 받은 선물을 소중히 여긴다 (700점 이상)
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	;IF STRCOUNT(SENSE, "かわいい/")
	;	PRINTFORMW 「귀여운 선물을 받아버렸어」
	;ELSEIF 評価点 >= 800
	;	PRINTFORMW 「정말 멋진 선물을 받아버렸어」
	;ELSE
	;	PRINTFORMW 「멋진 선물을 받아버렸어」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;하루의 끝에 오늘 받은 선물을 마음에 들게 한다 (↑의 소중히 여긴다에서 이어짐) (700점 이상 최고득점)
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "身につける/")
	;	PRINTFORMW 「내일부터 이거 달고 다녀야지」
	;ELSE
	;	PRINTFORMW 「내일부터 이거 들고 다녀야지」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;하루의 끝에 오늘 받은 선물을 일단 보관한다 (400~699점)
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	;PRINTFORMW 「우선 장식해 두자」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;하루의 끝에 오늘 받은 선물을 몰래 전당잡는다 (400점 미만)
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「나 이거 싫어하는데~」
	RETURN 1
ENDIF
RETURN 1


;==================================================
;ムシバトル
;ムシバトルの口上は少し特殊で、PRINTを使うのではなく、
;台詞一行のみをRESULTSに入れてください
;ムシの名前は %MUSHI_NAME% で表示できます
;ムシの名前の最長はアレキサンドラトリバネアゲハの全角14文字です
;文字数制限があります。はみ出ないように気をつけてください
;ARGは残りムシ数か順位です
;==================================================
@M_KOJO_MESSAGE_COM_K28_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 順位
SELECTCASE ARGS
CASE "試合前"
	;-------------------------------------------------
	;キャラセレクト時,ARGは使えません
	;全角50文字くらいまで
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばしてさしあげますわ！」
	ENDIF
CASE "戦場に出した"
	;-------------------------------------------------
	;"【（キャラ）】は《（ムシ）》を戦場に出した！」"の直後
	;全角40文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%MUSHI_NAME%！キミにきめた！」
	ENDIF
CASE "攻撃時"
	;-------------------------------------------------
	;"【（キャラ）】《（ムシ）》の『（攻撃名）』！」"の直前
	;全角40文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばせ！%MUSHI_NAME%！」
	ENDIF
CASE "倒れた時"
	;-------------------------------------------------
	;"【（キャラ）】《（ムシ）》は倒れた！！"の直後
	;全角40文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ああっ！私の%MUSHI_NAME%がっ！」
	ENDIF
CASE "敗退時"
	;-------------------------------------------------
	;"【（キャラ）】敗退！！"の直後
	;全角40文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のムシが全滅めつめつ……」
	ENDIF
CASE "タイマン：勝ち"
	;-------------------------------------------------
	;順位は1位
	;全角20文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%よわーい！」
	ENDIF
CASE "タイマン：負け"
	;-------------------------------------------------
	;順位は2位
	;全角20文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%つよーい！」
	ENDIF
CASE "バトルロイヤル：優勝"
	;-------------------------------------------------
	;順位は1位
	;全角30文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「やったー！」
	ENDIF
CASE "バトルロイヤル：２位以下"
	;-------------------------------------------------
	;順位は2～4位
	;全角30文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「くやし～！」
	ENDIF
CASE "チーム戦：勝ち"
	;-------------------------------------------------
	;順位は1位（やられていても）
	;全角32文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のおかげね！」
	ENDIF
CASE "チーム戦：負け"
	;-------------------------------------------------
	;順位は2位
	;全角32文字まで（カギカッコ含む）
	;기입체크 (=0, 비표시、1, 표시)
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「味方が弱い！！」
	ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1
